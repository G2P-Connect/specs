type: object
properties:
  version:
    type: string
    example: 1.0.0
  data:
    type: object
    description: | 
      1. Functional registry specific extension to search.
      2. Additional checks using conditioanl expressions is possible.
      3. Allows Country/Registry specific implementation extensions using key/value pairs.
    properties:
      transaction_id: 
        $ref: ../../../common/schema/TransactionId.yaml
      search_request:
        type: array
        items: 
          type: object
          properties:
            reference_id:
              $ref: "../../../common/schema/ReferenceId.yaml"
            timestamp: 
              $ref: "../../../common/schema/DateTime.yaml"
            registry_type:
              $ref: "./RegistryType.yaml"
            event_type:
              $ref: AllEvents.yaml
            search_criteria:
              type: object
              properties:
                query:
                  $ref: AllQueries.yaml
                record_type:
                  $ref: AllRecordTypes.yaml
                sort:
                  $ref: "../../../common/schema/SearchSortList.yaml"
                pagination:
                  $ref: "../../../common/schema/PaginationRequest.yaml"
              required:
                - query
                - record_type
            consent:
              $ref: "../../../common/schema/Consent.yaml"
            locale:
              $ref: "../../../common/schema/LanguageCode.yaml"
          required:
            - reference_id
            - timestamp
            - event_type
            - search_criteria
    required:
      - transaction_id
      - search_request